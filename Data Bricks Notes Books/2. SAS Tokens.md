SAS Shared Access Signature

    Provides fine grained access to the storage
    Restricted Access to specifi resource types/services
    Allow specific permisssions
    Restrict access to specific time period
    limit access to specific IP addresses
    Recommended access pattern for external clients

Summary:
With this level of fine grained access control offered, 
SAS tokens are the recommended access pattern for external clients, 
who cannot be trusted with full access to your storage account.

We need to put sas token in command prompt & we need to generate a sas token, procedure to generate it,
SOP
* go to the Azure storage container
* Azure main page --> Storge account --> left column Data Storage --> click Containers --> tick mark the folder needs to give access of --> right hand side three blocks + click --> Generate SAS
*  check the notes below --> than click generate the token buton
*  copy token and paste it into the required 3 command line

Note: 
* When you generate a Sas token, you can assign that to a specific key, So you've got the option to set it to Key1 or Key2. SAS token has been compromised, simply regenerate the access key, the Sas token also becomes invalid.
* There are different types of permissions available to grand, read only etc. for project we selected read and list

SAS TOKEN FOR PRODUCTION ENVIRONMENTS:

How to generate a SAS token from Azure Storage Explorer, because that's what you might be using in your production environments.

Go to Storage Explorer, and in order to create a SAS token, simply right click on the container in which you are creating the SAS token and click Get Shared Access Signature.

Similar to what we did before, you can assign it to a specific key or a user delegation key and you can have an access policy start time and end time 
and also you specify your permissions and then you click Create, to create the SAS token.

***The only thing you need to be mindful of is, instead of just the token, you get a query string here which starts with a question mark. So when you copy the query string, just remember to remove the question mark and use it in your notebook.

Apart from that, everything else will be exactly the same.

So let me close this and that's the end of this lesson.



So whoever has got the Sas token won't be able to access your data anymore.
Command FORMAT:

The first parameter here defines the authentication type as SAS or Shared Access Signature.
The second one defines the SAS token provider to fixed SAS token provider, and the last one is the
one in which we will set the value of the SAS token.
Using these configuration parameters, Databricks will be able to now authenticate to the storage account.

```code
spark.conf.set("fs.azure.account.auth.type.uzi786.dfs.core.windows.net", "SAS")
spark.conf.set("fs.azure.sas.token.provider.type.uzi786.dfs.core.windows.net", "org.apache.hadoop.fs.azurebfs.sas.FixedSASTokenProvider")
spark.conf.set("fs.azure.sas.fixed.token.uzi786.dfs.core.windows.net", "")
```


